{% extends 'base/base.html' %} {% block content %}
<div class="container mx-auto py-8">
	<h1 class="text-3xl font-semibold mb-6">{{ category.name }}</h1>
	<ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
		{% for product in products %}
            <a href="{% url 'product_detail' product.slug %}">
            <li class="rounded-lg shadow-md overflow-hidden relative min-h-[250px]">
			<div class="relative h-full flex flex-col justify-between">
				{% if product.image %}
				<div class="relative h-full">
					<img
						src="{{ product.get_image }}"
						alt="{{ product.name }}"
						class="w-full h-48 object-cover object-center"
					/>
				</div>
				{% else %}
				<div class="bg-gray-100 flex items-center justify-center h-48">
					<p class="text-gray-500">Изображение отсутствует</p>
				</div>
				{% endif %}

				<div class="p-4">
					<h2 class="text-xl font-semibold mb-2">{{ product.name }}</h2>
					<div class="mt-4 flex justify-between items-center">
						<span class="text-lg font-bold">{{ product.price }} руб.</span>
						<form method="post" action="{% url 'add_to_cart' product.id %}">
								{% csrf_token %}
								<input type="hidden" name="next" value="{{ request.path }}">
								<button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
										В корзину
								</button>
						</form>
					</div>
				</div>
			</div>
		</li>
            </a>
		{% endfor %}
	</ul>
</div>
{% endblock %}
