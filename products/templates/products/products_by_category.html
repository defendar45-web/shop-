{% extends 'base/base.html' %} {% block content %}
<div class="min-h-screen bg-gray-50 py-12 px-4">
  <div class="max-w-7xl mx-auto">

    <!-- Category title -->
    <h1 class="text-3xl font-semibold text-gray-900 mb-8">
      {{ category.name }}
    </h1>

    <!-- Products grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">

      {% for product in products %}
      <div class="bg-white rounded-3xl shadow-sm hover:shadow-lg transition
                  flex flex-col overflow-hidden">

        <!-- Image -->
        <a href="{% url 'product_detail' product.slug %}">
          <div class="w-full h-64 bg-gray-100 overflow-hidden">
            <img
              src="{{ product.get_image }}"
              alt="{{ product.name }}"
              class="w-full h-full object-cover hover:scale-105 transition duration-300"
            >
          </div>
        </a>

        <!-- Content -->
        <div class="flex flex-col flex-grow p-6">

          <h2 class="text-lg font-medium text-gray-900 mb-2 line-clamp-2 min-h-[56px]">
            {{ product.name }}
          </h2>

          <div class="flex-grow"></div>

          <div class="flex items-center justify-between mt-4">
            <span class="text-xl font-semibold text-gray-900">
              {{ product.price }} ‚ÇΩ
            </span>

            <form method="post" action="{% url 'add_to_cart' product.id %}">
              {% csrf_token %}
              <input type="hidden" name="next" value="{{ request.path }}">
              <button
                type="submit"
                class="px-4 py-2 rounded-xl bg-black text-white hover:bg-gray-900 transition">
                –í –∫–æ—Ä–∑–∏–Ω—É
              </button>
            </form>
          </div>

        </div>
      </div>

      {% empty %}
      <!-- Empty category -->
      <div class="col-span-full">
        <div class="bg-white rounded-3xl shadow p-12 text-center">

          <div class="text-5xl mb-4">üì¶</div>

          <h2 class="text-2xl font-semibold text-gray-800 mb-2">
            –í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤
          </h2>

          <p class="text-gray-500 mb-6">
            –ú—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π
          </p>

          <a href="{% url 'home' %}"
             class="inline-block px-6 py-3 rounded-xl
                    bg-black text-white hover:bg-gray-900 transition">
            –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω
          </a>
        </div>
      </div>
      {% endfor %}

    </div>

  </div>
</div>

{% endblock %}
