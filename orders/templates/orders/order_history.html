{% extends 'base/base.html' %}


{% block content %}
  <div class="container mx-auto p-4">
    <h1 class="text-2xl font-semibold mb-4 text-gray-800">История заказов</h1>

    {% for order in orders %}
      <div class="bg-white shadow rounded-lg p-4 mb-4">
        <h2 class="text-xl font-medium mb-2 text-gray-700">Заказ №{{ order.id }}</h2>
        <p class="text-gray-600 text-sm mb-2">
          Дата заказа: {{ order.created_at|date:"d.m.Y H:i" }}
        </p>

        <ul class="list-disc list-inside mb-2">
          {% for item in order.items.all %}
            <li class="text-gray-500 text-sm">
              {{ item.product.name }} - {{ item.quantity }} шт. - ${{ item.get_total_price }}
            </li>
          {% endfor %}
        </ul>

        <p class="font-medium text-gray-700">
          Общая стоимость: <span class="text-green-500">${{ order.get_total_cost }}</span>
        </p>
      </div>
    {% empty %}
      <p class="text-gray-500">У вас пока нет заказов.</p>
    {% endfor %}
  </div>
{% endblock %}