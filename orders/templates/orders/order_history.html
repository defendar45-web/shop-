{% extends 'base/base.html' %}


{% block content %}

<div class="min-h-screen bg-gray-100 py-[40px] px-[20px]">
  <div class="max-w-6xl mx-auto">

    <!-- Header -->
    <div class="mb-[32px]">
      <h1 class="text-[32px] font-semibold text-gray-800">
        История заказов
      </h1>
      <p class="text-gray-500 mt-[6px]">
        Все ваши покупки в одном месте
      </p>
    </div>

    {% for order in orders %}
    <div class="bg-white rounded-[20px] shadow-md mb-[24px] overflow-hidden">

      <!-- Order header -->
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between
                  px-[24px] py-[16px] border-b bg-gray-50">

        <div>
          <h2 class="text-[18px] font-semibold text-gray-800">
            Заказ №{{ order.id }}
          </h2>
          <p class="text-[14px] text-gray-500">
            {{ order.created_at|date:"d.m.Y H:i" }}
          </p>
        </div>

      </div>

      <!-- Items -->
      <div class="px-[24px] py-[16px]">
        <ul class="divide-y divide-gray-100">
          {% for item in order.items.all %}
          <li class="py-[12px] flex justify-between text-[15px]">

            <div class="text-gray-700">
              {{ item.product.name }}
              <span class="text-gray-400">× {{ item.quantity }}</span>
            </div>

            <div class="font-medium text-gray-800">
              {{ item.get_total_price }} ₽
            </div>

          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Footer -->
      <div class="px-[24px] py-[16px]
                  border-t bg-gray-50
                  flex flex-col sm:flex-row
                  sm:items-center sm:justify-between">

        <p class="text-[14px] text-gray-600">
          Способ оплаты: Банковская карта

        </p>

        <p class="text-[18px] font-semibold text-gray-800 mt-[10px] sm:mt-0">
          Итого:
          <span class="text-[#00BEA2]">
            {{ order.get_total_cost }} ₽
          </span>
        </p>

      </div>
    </div>

    {% empty %}

    <!-- Empty state -->
    <div class="bg-white rounded-[20px] shadow-md p-[48px] text-center">

      <p class="text-gray-500 text-[18px] mb-[24px]">
        У вас пока нет заказов
      </p>

      <a href="{% url 'categories' %}"
         class="inline-flex items-center justify-center
                w-[220px] h-[56px]
                rounded-full
                bg-[#00BEA2] text-white font-semibold
                hover:bg-[#05B197]
                transition shadow-md">
        Перейти в каталог
      </a>

    </div>

    {% endfor %}

  </div>
</div>

{% endblock %}

