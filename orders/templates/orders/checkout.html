{% extends 'base/base.html' %}

{% block content %}

<div class="min-h-screen bg-gray-100 py-[40px] px-[20px]">
  <div class="max-w-6xl mx-auto">

    <!-- Header -->
    <div class="mb-[30px]">
      <h1 class="text-[32px] font-semibold text-gray-800">
        –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
      </h1>
      <p class="text-gray-500 mt-[6px]">
        –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–∫–∞–∑
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-[30px]">

      <!-- LEFT: FORM -->
      <form method="POST"
            class="bg-white rounded-[20px] shadow-md p-[24px] space-y-[20px]">
        {% csrf_token %}

        <h2 class="text-[22px] font-semibold text-gray-800">
          –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∞–≤–∫–∏
        </h2>

        <!-- Name -->
        <div>
          <label class="text-sm text-gray-600">–ò–º—è</label>
          <input name="name" required
                 class="mt-[6px] w-full rounded-[15px]
                        border border-gray-300 px-[14px] py-[12px]
                        focus:border-[#00BEA2]
                        focus:ring-2 focus:ring-[#00BEA2]/20
                        outline-none transition">
        </div>

        <!-- City / Street -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-[16px]">
          <div>
            <label class="text-sm text-gray-600">–ì–æ—Ä–æ–¥</label>
            <input name="city" required
                   class="mt-[6px] w-full rounded-[15px]
                          border border-gray-300 px-[14px] py-[12px]
                          focus:border-[#00BEA2]
                          focus:ring-2 focus:ring-[#00BEA2]/20
                          outline-none transition">
          </div>

          <div>
            <label class="text-sm text-gray-600">–£–ª–∏—Ü–∞</label>
            <input name="street" required
                   class="mt-[6px] w-full rounded-[15px]
                          border border-gray-300 px-[14px] py-[12px]
                          focus:border-[#00BEA2]
                          focus:ring-2 focus:ring-[#00BEA2]/20
                          outline-none transition">
          </div>
        </div>

        <!-- House / Floor -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-[16px]">
          <div>
            <label class="text-sm text-gray-600">–î–æ–º</label>
            <input name="house_number" required
                   class="mt-[6px] w-full rounded-[15px]
                          border border-gray-300 px-[14px] py-[12px]
                          focus:border-[#00BEA2]
                          focus:ring-2 focus:ring-[#00BEA2]/20
                          outline-none transition">
          </div>

          <div>
            <label class="text-sm text-gray-600">–≠—Ç–∞–∂</label>
            <input type="number" name="floor"
                   class="mt-[6px] w-full rounded-[15px]
                          border border-gray-300 px-[14px] py-[12px]
                          focus:border-[#00BEA2]
                          focus:ring-2 focus:ring-[#00BEA2]/20
                          outline-none transition">
          </div>
        </div>

        <!-- Phone -->
        <div>
          <label class="text-sm text-gray-600">–¢–µ–ª–µ—Ñ–æ–Ω</label>
          <input name="phone_number" required
                 class="mt-[6px] w-full rounded-[15px]
                        border border-gray-300 px-[14px] py-[12px]
                        focus:border-[#00BEA2]
                        focus:ring-2 focus:ring-[#00BEA2]/20
                        outline-none transition">
        </div>

        <!-- Email -->
        <div>
          <label class="text-sm text-gray-600">Email</label>
          <input type="email" name="email" required
                 class="mt-[6px] w-full rounded-[15px]
                        border border-gray-300 px-[14px] py-[12px]
                        focus:border-[#00BEA2]
                        focus:ring-2 focus:ring-[#00BEA2]/20
                        outline-none transition">
        </div>

        <!-- Submit -->
        <button type="submit"
                class="w-full mt-[10px] py-[14px]
                       rounded-[15px]
                       bg-[#00BEA2] text-white font-semibold
                       hover:bg-[#05B197]
                       transition shadow-md">
          üõí –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        </button>
      </form>

      <!-- RIGHT: SUMMARY -->
      <div class="bg-white rounded-[20px] shadow-md p-[24px] h-fit">

        <h2 class="text-[22px] font-semibold text-gray-800 mb-[20px]">
          –í–∞—à –∑–∞–∫–∞–∑
        </h2>

        <ul class="space-y-[16px]">
          {% for item in cart_items %}
          <li class="flex items-center justify-between">

            <div class="flex items-center gap-[12px]">
              <img src="{{ item.product.get_image }}"
                   class="w-[56px] h-[56px] rounded-[12px] object-cover">

              <div>
                <p class="font-medium text-gray-800">
                  {{ item.product.name }}
                </p>
                <p class="text-sm text-gray-500">
                  {{ item.product.price }} ‚ÇΩ
                </p>
              </div>
            </div>

            <span class="font-semibold text-gray-800">
              {{ item.get_total_price }} ‚ÇΩ
            </span>

          </li>
          {% endfor %}
        </ul>

        <div class="border-t mt-[20px] pt-[16px] space-y-[8px] text-sm">
          <div class="flex justify-between text-gray-600">
            <span>–ü–æ–¥—ã—Ç–æ–≥</span>
            <span>{{ total_price }} ‚ÇΩ</span>
          </div>

          <div class="flex justify-between text-gray-600">
            <span>–î–æ—Å—Ç–∞–≤–∫–∞</span>
            <span class="text-[#00BEA2] font-medium">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
          </div>

          <div class="flex justify-between text-[18px] font-semibold text-gray-800">
            <span>–ò—Ç–æ–≥–æ</span>
            <span>{{ total_price }} ‚ÇΩ</span>
          </div>
        </div>

      </div>

    </div>
  </div>
</div>

{% endblock %}

